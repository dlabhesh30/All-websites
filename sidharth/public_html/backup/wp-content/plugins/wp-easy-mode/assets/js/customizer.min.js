window.WPEM=window.WPEM||{},window.WPEM.Overlay=function(a,b,c){var d={};return d.View=b.View.extend({initialize:function(b){this.content=b.content,this.templateId=b.templateId,this.keyDownEvent=a.proxy(this.keyDownHandler,this),this.render(),a(document).on("keydown",this.keyDownEvent)},events:{"click .wpem-overlay-background":"remove","click .wpem-overlay-control span":"remove"},template:function(){return c.template(a(this.templateId).html(),{content:this.content})},render:function(){this.$el.html(this.template()),a(this.el).appendTo("body")},keyDownHandler:function(b){27===b.which&&(this.remove(),a(document).off("keydown",this.keyDownEvent))}}),d}(jQuery,Backbone,_),jQuery(document).ready(function(a){a(document).on("click",".wp-pointer.wpem-pointer .button-primary",function(){new window.WPEM.Overlay.View({templateId:"#wpem-overlay-template"})}),a("button.collapse-sidebar").on("click",function(){"true"===a(this).attr("aria-expanded")?setTimeout(function(){window.WPEM.Pointers.open("wpem_done")},200):window.WPEM.Pointers.hideAll()})});