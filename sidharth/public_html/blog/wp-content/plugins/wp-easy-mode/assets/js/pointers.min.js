window.WPEM=window.WPEM||{},window.WPEM.Pointers=function(a){function b(b){var c=a.extend(b.options,{pointerClass:"wp-pointer wpem-pointer",close:function(){g&&a.post(b.ajaxurl,{pointer:b.id,action:"dismiss-wp-pointer"})},show:function(a,b){b.pointer.css("display","none"),b.opened(),setTimeout(function(){b.pointer.fadeIn("fast")},5)},hide:function(a,b){b.pointer.fadeOut("fast"),b.closed()}});b.hasOwnProperty("btn_primary")&&(c.buttons=function d(c,e){var g="",h=wpPointerL10n?wpPointerL10n.dismiss:"Dismiss";b.hasOwnProperty("btn_close")&&(g='<button class="button-secondary">'+h+"</button>");var d=a('<div class="buttons-wrapper">'+g+'<button class="button-primary">'+b.btn_primary+"</button></div>");return d.bind("click.pointer",function(a){a.preventDefault(),b.hasOwnProperty("next_pointer")&&(e.element.pointer("close"),window.WPEM.Pointers.open(b.next_pointer),delete f[b.id]),("button-secondary"===a.target.className||b.hasOwnProperty("btn_primary_close"))&&(e.element.pointer("close"),delete f[b.id])})},f[b.id]={target:b.target,options:c},b.hasOwnProperty("close_on_load")||this.open(b.id))}function c(b){if(f.hasOwnProperty(b)){var c=f[b];return f[b].$target=a(c.target),c.$target.pointer(c.options).pointer("open"),a(".wp-pointer").css({"z-index":999999}),!0}return!1}function d(b,c){a.each(c,function(a,c){return!window.WPEM.Pointers.open(b+c)})}function e(){g=!1,a.each(f,function(a,b){b.hasOwnProperty("$target")&&b.$target.pointer("close")}),g=!0}var f={},g=!0;return{render:b,open:c,openFirstInRange:d,hideAll:e}}(jQuery),jQuery(document).ready(function(a){a.each(wpem_pointers,function(a,b){window.WPEM.Pointers.render(b)})});